!function(W,v,S){"use strict";var b="ht",T=W[b],p=null,f=Math,w=f.abs,a=f.max,G=Number.MAX_VALUE,N=T.Default,D=N.getInternal(),t=N.clone,I=D.vec3TransformMat4,M=D.appendArray,e=function(){var $=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,J=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,O=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,x=function(c,B){return B=parseInt(B),B>=0?c[B-1]:c[B+c.length]},V=function(q,A,m,N,K,Q){if(q.vs){var o=x(A,N),W=x(A,K),z=x(A,Q),f=m.matrix,C=q.vs;if(m.flipFace){var h=W;W=z,z=h}f?(M(C,I(t(o),f)),M(C,I(t(W),f)),M(C,I(t(z),f))):(M(C,o),M(C,W),M(C,z))}},h=function(K,a,s,E,Z,S){if(K.vs){var V=x(a,E),_=x(a,Z),W=x(a,S),G=s.flipY;if(s.flipFace){var J=_;_=W,W=J}K.uv.push(V[0],G?1-V[1]:V[1],_[0],G?1-_[1]:_[1],W[0],G?1-W[1]:W[1])}},A=function(O,b,m,S,Z,J){if(O.vs){var $=x(b,S),B=x(b,Z),A=x(b,J),R=m.normalMatrix,_=O.ns;if(m.flipFace){var h=B;B=A,A=h}R?(M(_,I(t($),R)),M(_,I(t(B),R)),M(_,I(t(A),R))):(M(_,$),M(_,B),M(_,A))}},j=function(c,e,Z,y,N,n,a,o){var q=y&&y.length&&o;n[3]===S?(V(c,e,N,n[0],n[1],n[2]),a&&h(c,Z,N,a[0],a[1],a[2]),q&&A(c,y,N,o[0],o[1],o[2])):(V(c,e,N,n[0],n[1],n[3]),V(c,e,N,n[1],n[2],n[3]),a&&(h(c,Z,N,a[0],a[1],a[3]),h(c,Z,N,a[1],a[2],a[3])),q&&(A(c,y,N,o[0],o[1],o[3]),A(c,y,N,o[1],o[2],o[3])))},n=function(R,e,m,Q){var l,Z,c,j,D,x,$,F=G,d=G,f=G,s=-G,W=-G,J=-G;for(l in R)for(x=R[l].vs,$=x.length,Z=0;$>Z;Z+=3)c=x[Z+0],j=x[Z+1],D=x[Z+2],F>c&&(F=c),d>j&&(d=j),f>D&&(f=D),c>s&&(s=c),j>W&&(W=j),D>J&&(J=D);if(m){var y=F+(s-F)/2,A=d+(W-d)/2,S=f+(J-f)/2;for(l in R)for(x=R[l].vs,$=x.length,Z=0;$>Z;Z+=3)x[Z+0]-=y,x[Z+1]-=A,x[Z+2]-=S}var t,C,P;m?(t=s-F,C=W-d,P=J-f):(t=2*a(w(F),w(s)),C=2*a(w(d),w(W)),P=2*a(w(f),w(J))),Q.rawS3=[t,C,P];for(l in R){if(x=R[l].vs,e)for($=x.length,Z=0;$>Z;Z+=3)t&&(x[Z+0]/=t),C&&(x[Z+1]/=C),P&&(x[Z+2]/=P);R[l].rawS3=Q.rawS3}};return function(W,y,F){if(!W)return p;(D.isString(y)||y instanceof ArrayBuffer)&&(y=Y(y)),F||(F={}),F.flipY==p&&(F.flipY=!0),(F.s3||F.r3||F.t3||F.mat)&&(F.matrix=D.createWorldMatrix(F.mat,F.s3,F.r3,F.rotationMode,F.t3));var k,q,M,u,H,d,w=[],A=[],e=F.ignoreNormal?p:[],l=F.reverseFlipMtls,X={vs:[],uv:[],ns:e?[]:p},B={htdefault:X},S=new P(W);for(e&&F.matrix&&(F.normalMatrix=D.createNormalMatrix(F.matrix));null!=(q=S.stepNext());)if(q=q.trim(),0!==q.length&&"#"!==q.charAt(0))if(q.indexOf("#QNAN0")>=0&&(q=q.replace(/#QNAN0/gi,"0")),M=$.exec(q))w.push([parseFloat(M[1]),parseFloat(M[2]),parseFloat(M[3])]);else if(M=J.exec(q))A.push([parseFloat(M[1]),parseFloat(M[2])]);else if(e&&(M=O.exec(q)))F.flipFace?e.push([parseFloat(-M[1]),parseFloat(-M[2]),parseFloat(-M[3])]):e.push([parseFloat(M[1]),parseFloat(M[2]),parseFloat(M[3])]);else if("f"===q[0]){var f=q.split(/\s+/);if(f.length<4)continue;var b,k,_,v=[],h=[],o=[];for(k=1,_=f.length;_>k;k++)b=f[k].split("/"),v.push(parseInt(b[0],10)),b.length>1&&b[1].length>0&&o.push(parseInt(b[1],10)),b.length>2&&b[2].length>0&&h.push(parseInt(b[2],10));for(k=0,_=v.length-2;_>k;k++)j(X,w,A,e,F,[v[0],v[k+1],v[k+2]],o.length?[o[0],o[k+1],o[k+2]]:p,h.length?[h[0],h[k+1],h[k+2]]:p)}else if(/^usemtl /.test(q)&&(u=q.substring(7).trim(),!(X=B[u]))){if(X={name:u,vs:[],uv:[],ns:e?[]:p},F.ignoreMtls&&F.ignoreMtls.indexOf(u)>=0&&delete X.vs,(F.reverseFlip||"*"===l||l&&l.indexOf(u)>=0)&&(X.reverseFlip=!0),y&&(H=y[u],H&&(F.ignoreColor||(X.color=H.kd),!F.ignoreTransparent&&H.d>0&&H.d<1&&(X.transparent=!0,X.opacity=H.d),!F.ignoreImage&&(d=H.map_kd)))){d=d.split(" ");var z=-1;for(k=0;k<d.length;k++)"-o"===d[k]?(X.uvOffset=[parseFloat(d[k+1]),parseFloat(d[k+2])],k+=3,z=k):"-s"===d[k]&&(X.uvScale=[parseFloat(d[k+1]),parseFloat(d[k+2])],k+=3,z=k);X.image=(F.prefix||"")+d.splice(z+1).join(" ")}B[u]=X}var g=[];for(var L in B){var K=B[L].vs;K&&0!==K.length||g.push(L)}g.forEach(function(N){delete B[N]}),n(B,F.cube,F.center,F);var Q=F.shape3d;if(Q){var t=[];for(var u in B){var X=B[u];t.rawS3=X.rawS3,t.push(X)}N.setShape3dModel(Q,t)}return B}}(),Y=function(W){var Z={};if(W)for(var x,n,D,o,K,Y,d=new P(W),L=/\s+/;null!=(n=d.stepNext());)n=n.trim(),0!==n.length&&"#"!==n.charAt(0)&&(D=n.indexOf(" "),o=(D?n.substring(0,D):n).toLowerCase(),K=(D?n.substring(D+1):"").trim(),"newmtl"===o?Z[K]=x={name:K}:x&&("ka"===o||"kd"===o||"ks"===o?(Y=K.split(L,3),x[o]=[parseFloat(Y[0]),parseFloat(Y[1]),parseFloat(Y[2]),1]):x[o]="ns"===o||"d"===o?parseFloat(K):K));return Z},P=function(h){var l=this;if(h instanceof ArrayBuffer){l.isBuffer=!0;var D=0,q=new Uint8Array(h),G=q.length,V=q.length;l.stepNext=function(){for(var r,W,o=D;G>D;)if(r=q[D],W=r>>4,12===W||13==W)D+=2;else if(14===W)D+=3;else if(D++,10===r)return String.fromCharCode.apply(null,q.subarray(o,D));return D>o?String.fromCharCode.apply(null,q.subarray(o,D)):null}}else{l.isBuffer=!1;var F=h.split("\n"),X=0,V=F.length;l.stepNext=function(){return V>X?F[X++]:null}}};P.prototype={},P.prototype.constructor=P,D.addMethod(N,{loadObj:function($,t,y){y=y||{};var n=!1;/(MSIE |Trident\/|Edge\/)/.test(W.navigator.userAgent)&&(n=!0);var M=function(Q){var F,L=y.finishFunc,V=y.shape3d,M=Q?e(Q[0],Q[1],y):null;if(M){if(V)F=N.getShape3dModel(V);else{F=[];for(var U in M){var s=M[U];F.rawS3=s.rawS3,F.push(s)}}L&&L(M,F,F.rawS3)}else L&&L(null)};if(n){var s=function(t){y.responseType="arraybuffer",N.xhrLoad($,function(H){M([H,t])},y)};t?N.xhrLoad(t,function(m){s(m)},y):s()}else N.xhrLoad(t?[$,t]:[$],M,y)},parseObj:function(J,l,R){return e(J,l,R)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);